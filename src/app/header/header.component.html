<header class="header">
    <div class="container">
        <div class="logo">
            <span class="logo-text">FLATMATE</span>
        </div>

        <!-- Desktop Navigation -->
        <nav class="desktop-nav">
            <a href="#" class="nav-link">Home</a>
            <a href="#" class="nav-link">Find Room</a>
            <a (click)="openTravelTime()" style="cursor: pointer;" class="nav-link">Check Travel Time</a>
            <a href="#" class="nav-link">About Us</a>
        </nav>

        <!-- Desktop Actions -->
        <div class="actions">
            <a *ngIf="!currentUser" (click)="openLogin()" class="nav-link user-login" style="cursor: pointer;">User
                Login</a>

            <div *ngIf="currentUser" class="profile-container" (clickOutside)="showProfileMenu = false">
                <div class="profile-circle" (click)="toggleProfileMenu()">
                    {{ currentUser.firstName ? currentUser.firstName.charAt(0).toUpperCase() : 'U' }}
                </div>

                <div class="dropdown-menu" *ngIf="showProfileMenu">
                    <div class="dropdown-item" (click)="openRegisterRoom()">Register your room</div>
                    <div class="dropdown-item" (click)="logout()">Logout</div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn" (click)="toggleMobileMenu()" [class.active]="isMobileMenuOpen">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" [class.open]="isMobileMenuOpen">
        <a href="#" class="mobile-link" (click)="toggleMobileMenu()">Home</a>
        <a href="#" class="mobile-link" (click)="toggleMobileMenu()">Find Room</a>
        <a (click)="openTravelTime()" class="mobile-link" style="cursor: pointer;">Check Travel Time</a>
        <a href="#" class="mobile-link" (click)="toggleMobileMenu()">About Us</a>
        <div class="mobile-divider"></div>

        <a *ngIf="!currentUser" (click)="openLogin()" class="mobile-link" (click)="toggleMobileMenu()"
            style="cursor: pointer;">User
            Login</a>
    </div>

    <app-login *ngIf="showLogin" (close)="closeLogin()" (loginSuccess)="onLoginSuccess($event)"></app-login>
    <app-register-room *ngIf="showRegisterRoom" (close)="closeRegisterRoom()"></app-register-room>
    <app-travel-time *ngIf="showTravelTime" (close)="closeTravelTime()"></app-travel-time>
</header>