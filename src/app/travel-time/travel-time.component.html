<div class="travel-time-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Plan Your Trip ğŸšŒ</h2>
            <button class="close-btn" (click)="closeModal()">&times;</button>
        </div>

        <div class="modal-body">
            <p class="description">Enter your route to check the next bus schedule and travel duration.</p>

            <div class="input-group">
                <input type="text" [(ngModel)]="source" placeholder="From: Current Location" (input)="onSourceInput()"
                    (keyup.enter)="checkTime()" />
                <span class="input-icon">ğŸ“</span>
                <ul class="suggestions" *ngIf="sourceSuggestions.length > 0">
                    <li *ngFor="let place of sourceSuggestions" (click)="selectPlace(place, 'source')">
                        {{ place }}
                    </li>
                </ul>
            </div>

            <div class="input-group">
                <input type="text" [(ngModel)]="destination" placeholder="To: Destination" (input)="onDestInput()"
                    (keyup.enter)="checkTime()" />
                <span class="input-icon">ğŸ</span>
                <ul class="suggestions" *ngIf="destinationSuggestions.length > 0">
                    <li *ngFor="let place of destinationSuggestions" (click)="selectPlace(place, 'destination')">
                        {{ place }}
                    </li>
                </ul>
            </div>

            <button class="check-btn" [disabled]="!destination || !source || isLoading" (click)="checkTime()">
                <span *ngIf="!isLoading">Check Schedule</span>
                <span *ngIf="isLoading" class="loader"></span>
            </button>

            <div class="result-container" *ngIf="result && !isLoading">
                <div class="result-card bus">
                    <div class="icon">ğŸšŒ</div>
                    <div class="info">
                        <span class="label">Next Bus</span>
                        <span class="value">{{ result!.busTime }}</span>
                    </div>
                </div>

                <div class="result-card duration">
                    <div class="icon">â³</div>
                    <div class="info">
                        <span class="label">Duration</span>
                        <span class="value">{{ result!.duration }}</span>
                    </div>
                </div>

                <div class="result-card time">
                    <div class="icon">ğŸ•’</div>
                    <div class="info">
                        <span class="label">Local Time</span>
                        <span class="value">{{ result!.localTime }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>